#################################################
#                 AWS                          #
#################################################
https://twitter.com/i/status/1576389331484545024
=>sudo chmod 777 -R destinationFolder/*
Allow ec2 file permission

=>/mnt/efs/fs1
MetadataURL is http://169.254.169.254/latest/meta-data
  
	  
#!/bin/bash
yum update -y
yum install -y httpd
systemctl start httpd
systemctl enable httpd
echo "<h1>Hello World from $(hostname -f)</h1>" > /var/www/html/index.html


=================================================
#General | Basic | Info      
================================================= 
Reserved Instances:
Keep in mind that you can always refer to On-Demand Instances to suffice any additional resource requirements


IAM
AWS IAM enables organizations with many employees to create and manage multiple users under a single AWS account.

Use Access Control Lists (ACLs): 
Within Amazon S3, you can use ACLs to give read or write access on buckets or objects to groups of users. With ACLs, you can only grant other AWS accounts (not specific users) access to your Amazon S3 resources.


When you need to access S3 using a file system protocol, you should use File Gateway. 
You get a local cache in the gateway that provides high throughput and low latency over SMB.

File gateway offers SMB or NFS-based access to data in Amazon S3 with local caching.
SMBorNFSinterface->FileGateway

cloud-based iSCSI block storage-> Volume Gateway


You can use Aurora replicas and CloudFront distribution to make the application more resilient to 
spikes in request rates.




If you have workloads that cater to a global client base, AWS recommends that you use AWS 
Global Accelerator. 
If you have workloads hosted in a single AWS Region and used by clients in 
and around the same Region, you can use an 
Application Load Balancer or Network Load Balancer to manage your resources.


File gateway offers SMB or NFS-based access to data in Amazon S3 with local caching.

Volume Gateway to present cloud-based iSCSI block storage volumes to your on-premises applications. 
Volume Gateway does not support NFS interface.

Tape Gateway does not support NFS interface.
 
It uses internet protocol security (IPSec) communications to create encrypted VPN tunnels between two locations. 
You cannot use AWS Site-to-Site VPN to integrate data files via the NFS interface


ConfusingTakeaLook
------------------
https://stackarmor.com/protecting-against-a-distributed-denial-of-service-ddos-attack-using-aws/


which configuration not supported by aws vpc console wizard


CodeDeploy 


lagship application 

S3 Standard-IA storage class is for data that is accessed less frequently but requires rapid access when needed. 

Amazon Aurora, each Read Replica is associated with a priority tier (0-15)

Kanisis Data Stream read and/or replay


HandOnRemain
----------------------------
Route53
CloudFormation


Video Checkout:
2)Giving permissions to federated/outside users & groups.
You can't assign role to user.

AWS Best Practices for DDoS Resiliency Application Layer Defense

Ephemeral Ports

Before->Amazon GuardDuty

S3 Bucket Policies
S3 CORS






Amongst the new topics you'll learn about in this update:
================================================
-RDS Custom for Oracle and Microsoft SQL Server, RDS & Aurora Backup and Monitoring, RDS Proxy
-S3 Object Lambda, S3 Batch Operations
-Amazon EKS, AWS App Runner, DocumentDB, Neptune, Keyspaces (for Apache Cassandra), QLDB, Timestream, 
 QuickSight, Glue, Lake Formation, MSK - Managed Streaming for Apache Kafka...
-CloudWatch Metric Streams, CloudWatch Insights
-Many AWS Machine Learning services



SSM
================================================
=>aws ssm get-parameters-by-path --path /myapp/prod/ --recursive
=>aws ssm get-parameters-by-path --path /myapp/prod/ 
=>aws ssm get-parameters --name /myapp/prod/db-url /myapp/prod/db-pass
=>aws ssm get-parameters --name /myapp/prod/db-url /myapp/prod/db-pass --with-decryption


=================================================
#AWS Top View | Flow | Overview
=================================================


#AWS Global Infrastructure
-------------------------------------------------
AWS: 
  -Region
  	-AvailableZone
		-VPC 
		-Router 
		-Gateway
		-InternetGateway
		-VPCEndpoint
		-VPG(VirtualPrivateGateway)+Site-to-Site VPN
		-DCG(DirectConnectGateway for DX)
			-Subnet
				-RouteTables
				-NACL
				-IGW
				-NATInstance
				-NATGateway
				-EC2
					-SecurityGroup
				
				
#Security
-------------------------------------------------
SCP->ResourceBase->IdentityBase->IAMPermissionBoundry->SessionPolicy->Go!

Root User:
		-IAM User      +Permission Policy
		-User Group    +Permission Policy
		-IAM Role      +Permission Policy ->For EC2 to doing somthing
		
SCP:
	-OU			   +Permission Policy
		-User
		-Role
	  
	
	
Policy:		=>Predefined+Custome+(Optional)Condition
IAM Role:	=>Predefined+Custome

Principals: Root Users, IAM Users and Instance Principals.
PrincipleEntities: Users, Groups, Roles and Policies.



#Interfaces | EndPoints
-------------------------------------------------
AWS: 
  -Region
  	-AvailableZone
		-VPC +IGW
			 +GWLB
			-Subnet +GWLBEndPoint
			-AZ
				-EC2 ++ENI ++Security groups
				
				

=================================================
#AWS Services Scope | Area
================================================= 

IAM
	Users, Groups, Roles, Accounts – Global
		Same AWS accounts, users, groups and roles can be used in all regions
	Key Pairs – Global and Regional
		Amazon EC2 created key pairs are specific to the region
		RSA key pair can be created and uploaded that can be used in all regions
Virtual Private Cloud
	VPC – Regional
		VPC are created within a region
	Subnet – Availability Zone
		Subnet can span only a single Availability Zone
	Security groups – Regional
		A security group is tied to a region and can be assigned only to instances in the same region.
	VPC Endpoints – Regional
		You cannot create an endpoint between a VPC and an AWS service in a different region.
	VPC Peering – Regional
		VPC Peering can be performed across VPC in the same account of different AWS accounts but only within the same region. 
		They cannot span across regions
		VPC Peering can now span inter-region
	Elastic IP Address – Regional
		Elastic IP address created within the region can be assigned to instances within the region only
EC2
	Resource Identifiers – Regional
		Each resource identifier, such as an AMI ID, instance ID, EBS volume ID, or EBS snapshot ID, is tied to its region and 
		can be used only in the region where you created the resource.
	Instances – Availability Zone
		An instance is tied to the Availability Zones in which you launched it. However, note that its instance ID is tied to the region.
	EBS Volumes – Availability Zone
		Amazon EBS volume is tied to its Availability Zone and can be attached only to instances in the same Availability Zone.
	EBS Snapshot – Regional
		An EBS snapshot is tied to its region and can only be used to create volumes in the same region and has to be copied from 
		One region to other if needed.
AMIs – Regional
	AMI provides templates to launch EC2 instances
	AMI is tied to the Region where its files are located with Amazon S3. For using AMI in different regions, the AMI can be copied 
	to other regions.
Auto Scaling – Regional
	Auto Scaling spans across multiple Availability Zones within the same region but cannot span across regions
Elastic Load Balancer – Regional
	Elastic Load Balancer distributes traffic across instances in multiple Availability Zones in the same region
Cluster Placement Groups – Availability Zone
	Cluster Placement groups can be span across Instances within the same Availability Zones
S3 – Global but Data is Regional
	S3 buckets are created within the selected region
	Objects stored are replicated across Availability Zones to provide high durability but are not cross region replicated unless 
	done explicitly.
Route53 – Global
	Route53 services are offered at AWS edge locations and are global
DynamoDB – Regional
	All data objects are stored within the same region and replicated across multiple Availability Zones in the same region
	Data objects can be explicitly replicated across regions using cross-region replication
WAF – Global
	Web Application Firewall (WAF) services protects web applications from common web exploits are offered at AWS edge locations 
	and are global
CloudFront – Global
	CloudFront is the global content delivery network (CDN) services are offered at AWS edge locations
Storage Gateway – Regional
	AWS Storage Gateway stores volume, snapshot, and tape data in the AWS region in which the gateway is activated
AWS Config – Regional
AWS GuardDuty – Regional





=================================================
#AWS Security, Identity, & Compliance services
================================================= 
Category:UseCases:AWSService

Identity & access management:
	Securely manage access to services and resources
	AWS Identity & Access Management (IAM)
	
	Cloud single-sign-on (SSO) service
	AWS IAM Identity Center (successor to AWS SSO)
	
	Identity management for your apps
	Amazon Cognito
	
	Managed Microsoft Active Directory
	AWS Directory Service
	
	Simple, secure service to share AWS resources
	AWS Resource Access Manager
	
	Central governance and management across AWS accounts
	AWS Organizations
	
Detection:
	Automate AWS security checks and centralize security alerts
	AWS Security Hub
	
	Protect AWS accounts with intelligent threat detection
	Amazon GuardDuty
	
	Automate vulnerability management
	Amazon Inspector
	
	Record and evaluate configurations of your AWS resources
	AWS Config
	
	Track user activity and API usage
	AWS CloudTrail
	
	Security management for IoT devices
	AWS IoT Device Defender
	
Network and application protection:
	Network security
	AWS Network Firewall
	
	DDoS protection
	AWS Shield
	
	Filter and control outbound DNS traffic for your VPCs
	Amazon Route53 Resolver DNS Firewall
	
	Filter malicious web traffic
	WAF icon AWS Web Application Firewall (WAF)
	
	Central management of firewall rules
	AWS Firewall Manager
	
Data protection:
	Discover and protect your sensitive data at scale
	Amazon Macie
	
	Key storage and management
	AWS Key Management Service (KMS)
	
	Hardware based key storage for regulatory compliance
	AWS CloudHSM
	
	Provision, manage, and deploy public and private SSL/TLS certificates
	AWS Certificate Manager
	
	Rotate, manage, and retrieve secrets
	AWS Secrets Manager
	
Incident response:
	Investigate potential security issues
	Amazon Detective
	Scalable, cost-effective application recovery to AWS
	AWS Elastic Disaster Recovery
Compliance:
	No cost, self-service portal for on-demand access to AWS’ compliance reports
	AWS Artifact
	
	Continuously audit your AWS usage to simplify how you assess risk and compliance
	AWS Audit Manager


=================================================
#AWS Service List
=================================================
Compute Services
	Amazon EC2 - Secure, resizable Compute Instances (400+)
	EC2 Autoscaling - Automated compute capacity scaling
	Amazon LightSail - Easy virtual private server instances
	ElasticBeanstalk - Deploy & scale web apps (Java/Ruby/etc)
	Lambda - Serverless Compute Functions
Container Services
	ECR - Elastic Container Registry
	ECS - Elastic Container Service to deploy/manage clusters & tasks
	EKS - Elastic Kubernetes Service
	AWS Copilot - CLI to launch and manage containers
	AWS Fargate - Serverless Compute Engine for ECS/EKS Containers
Database Services
	Aurora - MySQL and PostgreSQL compatible database service
	DynamoDB - KeyValue / Document Database
	ElastiCache - Scalable in-memory database
	Neptune - Graph database for highly connected data sets
	Amazon RDS - Relational Database (MySQL/Postgres/Maria etc)
	Timestream - Serverless time series db for IoT
Network and Content Delivery
	AWS VPC - Logically isolated virtual private clouds
	API Gateway - Create and manage APIs
	CloudFront - Fast content delivery network CDN service
	Route53 - Fast DNS service
	AWS PrivateLink - Connect your on-prem network to AWS
	AWS App Mesh - Service Mesh for inter compute instance comms
	AWS CloudMap - Resource discovery for app usage
	AWS Direct Connect - Fast connection from your equipment to AWS
	Global Accellerator - App traffic routing over the AWS network
	AWS Transit Gateway - Centralised VPC and on prem connectivity
	Elastic Load Balancing - Service to evenly distribute network traffic
AWS Storage
	S3 - Object storage service
	EBS - Elastic Block Store, Persistent block
	EFS - Serverless Elastic File System
	FSx for Lustre - High performance file storage using Lustre
	FSx for Windows File System - AWS Windows file system
	S3 Glacier - Durable low cost archival storage
	AWS Backup - Policy driven data protection
	AWS Snow - Edge infrastructure for storage and compute
	AWS Storage Gateway - Hybrid on prem AWS storage 
	CloudEndure - Disaster recovery service 
Analytics Service
	Athena - Serverless Query S3 using SQL
	CloudSearch - Search Solution for Websites and Apps
	Elastic Search - Deploy and run ElasticSearch
	EMR - Big Data Platform and Analysis
	Kenesis - Real time streaming data capture and analysis
	Redshift - Data Warehouse Service
	QuickSight - Serverless ML BI Dashboards
	Data Exchange - Subscribe to 3rd Party Data Sets
	Data Pipeline - Transfer and process data
	Glue - Data discovery, enrichment and transfer
	AWS Lake Formation - Set up Data Lakes quickly
Application Integration Services
	Step Functions - Serverless Function Orchestration
	AppFlow - Integrate 3rd party app data
	EventBridge - Serverless Event Bus
	MQ - Message Broker Service for Apache/Rabbit MQ
	SNS - Simple Notification Messaging System
	SQS - Simple Queue Service Inter Component Messaging
	AppSync - GraphQL API Service
Cost Management Services
	AWS Cost Explorer - Visualize and manage AWS costs
	AWS Budgets - Service to set and monitor usage budgets
	AWS Cost and Usage Report - reporting to analyse AWS usage
BlockChain
	Amazon Managed Blockchain - Hyperledger & Ethereum Service
	Quantum Ledger DB (QLDB) - Fully managed financial ledger db

	
	


=================================================
#DataTransfer
================================================= 
AWS DataSync:
	AWS DataSync is responsible for copying files and ensuring that they were copied correctly. 
	Think of it as a robust robocopy command.

AWS DataSync is a secure, online service that automates and accelerates moving data between 
on premises and AWS Storage services. DataSync can copy data between Network File System (NFS) shares, 
Server Message Block (SMB) shares, Hadoop Distributed File Systems (HDFS), self-managed object storage, 
AWS Snowcone, Amazon Simple Storage Service (Amazon S3) buckets, Amazon Elastic File System (Amazon EFS) 
file systems, Amazon FSx for Windows File Server file systems, Amazon FSx for Lustre file systems, 
Amazon FSz for OpenZFS file systems, and Amazon FSx for NetApp ONTAP file systems.


AWS Data Migration Service:
	AWS Data Migration Service copies data between databases, but can also send data to Amazon S3, 
	Amazon Kinesis and Apache Kafka. It's great for data migrations between different databases and 
	types of databases.

AWS Database Migration Service (AWS DMS) is a cloud service that makes it easy to migrate 
relational databases, data warehouses, NoSQL databases, and other types of data stores. 
You can use AWS DMS to migrate your data into the AWS Cloud or between combinations of 
cloud and on-premises setups.


AWS Storage Gateway:
	AWS Storage Gateway provides a virtual storage device that stores data in the cloud 
	(on S3, Glacier, FSx, etc). Think of it as a cloud-backed H: drive with unlimited storage.


AWS Direct Connec:
	AWS Direct Connect links your office or data center to AWS via fiber. It's for high-speed, 
	permanent connectivity to the Cloud.

AWS Direct Connect links your internal network to an AWS Direct Connect location over a standard 
Ethernet fiber-optic cable. One end of the cable is connected to your router, the other to an 
AWS Direct Connect router. With this connection, you can create virtual interfaces directly to 
public AWS services (for example, to Amazon S3) or to Amazon VPC, bypassing internet service 
providers in your network path.


AWS Site-to-Site VPN:
	AWS Site-to-Site VPN creates a VPN connection between your office or data center and 
	AWS via existing data connections. For example, it can create a VPN connection across your existing 
	Internet fiber connection.

A Site-to-Site VPN connection offers two VPN tunnels between a virtual private gateway or a 
transit gateway on the AWS side, and a customer gateway (which represents a VPN device) on the 
remote (on-premises) side	
		
	

=================================================
#Code | Helping Heand | Example
=================================================


#Node Lambda API
-------------------------------------------------
exports.handler =  async function(event, context) {
    return {
        statusCode: 200,
        body: JSON.stringify("Simple NodeJs API Response !"),
      };
}


#PythonLabda
-------------------------------------------------
import json

def lambda_handler(event, context):
    body = "Hello from Lambda!"
    statusCode = 200
    return {
        "statusCode": statusCode,
        "body": json.dumps(body),
        "headers": {
            "Content-Type": "application/json"
        }
    }
	
	
